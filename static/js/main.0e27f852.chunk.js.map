{"version":3,"sources":["components/GithubFilePicker.tsx","images/Completed.png","images/ImportCrew.png","images/Loading.png","images/Middenheim.png","images/Nurgle.png","images/Orcs.png","images/Sigmar.png","utilities/InfoUtils.ts","utilities/Interfaces.ts","utilities/RosterUtils.ts","components/RulesSection.tsx","components/StatsAndEquipmentSection.tsx","components/UnitHeader.tsx","components/WarbandHeader.tsx","components/PdfInfoPage.tsx","components/SkillListsSection.tsx","components/PdfRoster.tsx","index.tsx","pages/PdfCreationPage.tsx","pages/LandingPage.tsx"],"names":["GithubFilePicker","useState","githubRepo","githubUser","currentContentUrl","setCurrentContentUrl","currentContent","setCurrentContent","selectedFile","setSelectedFile","navigationMap","setNavigationMap","history","useHistory","useEffect","fetching","fetchData","fetch","response","json","jsonResponse","name","getYamlDataAndJump","text","txtResponse","push","yaml","Fragment","className","style","float","marginTop","length","display","map","nav","idx","color","padding","onClick","url","slice","filteredContent","filter","content","type","indexOf","undefined","width","textAlign","download_url","getFoldersAndYmls","AllSkills","Skills","AllSpells","Spells","AllEquipment","Equipment","AllArmour","eq","Armour","AllMeleeWeapons","MeleeWeapons","AllMissileWeapons","MissileWeapons","AllMiscallaneous","Miscallaneous","findSkills","units","unitsWithRules","unit","rules","skills","Set","reduce","acc","regex","RegExp","unitRules","split","rule","trim","foundSkill","find","skill","classStart","lastIndexOf","classEnd","mappedSpells","substring","entry","accum","element","currentSpell","spellReduction","parseInt","foundSpell","spell","modifiedSpell","castingCost","toString","console","log","getEquipmentRules","ruleString","EquipmentRules","isHero","hero","isSpell","skillOrSpell","extractExperience","nameAndXp","bracketStart","bracketEnd","getNextLevelUp","currentXp","extractName","group","extractClass","extractHenchmenBodies","henchmen","numberEnd","isNaN","charAt","getRoutLimit","heroes","Math","ceil","prev","curr","getWarbandSize","getWatermark","warbandName","OnGPng","SigmarPng","NurglePng","MiddenheimPng","RulesSection","Unit","flexDirection","StatsAndEquipmentSection","statLine","statString","statArr","subString","replace","M","WS","BS","S","T","W","I","A","LD","Sv","getStatLine","stats","WeaponsPart","weapons","ArmourPart","armour","borderTop","Object","entries","key","value","UnitHeader","WarbandHeader","warband","justifyContent","fontSize","heros","henchmanGroup","isLargeHenchman","gc","shards","PdfInfoPage","state","spells","entity","equipment","unitsWithEquipment","uniqueEquipment","unitWeapons","unitArmour","weapon","foundArmour","equi","foundEquipment","melee","missile","misc","findEquipment","id","top","src","minHeight","notes","NotesSection","note","SkillsSection","SpellsSection","EquipmentSection","armourType","isArmour","strengthModifier","isMelee","genus","isMisc","range","isMissile","strength","SkillListsSection","skilllists","PdfRoster","marginLeft","ReactDOM","StrictMode","path","component","location","exportPdf","jsPdf","jsPDF","html2canvas","document","querySelector","scale","canvas","addImage","toDataURL","internal","pageSize","getWidth","getHeight","addPage","save","showSuccess","setSuccess","CompletedPng","alt","goBack","LoadingPng","htmlFor","accept","onChange","reader","FileReader","onload","ev","jsobject","target","result","e","readAsText","files","item","maxWidth","ImportWarbandPng","fontWeight","borderBottom","getElementById","click"],"mappings":"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","file":"static/js/main.0e27f852.chunk.js","sourcesContent":["import * as yaml from \"js-yaml\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\ninterface GithubContent {\r\n    name: string;\r\n    type: string;\r\n    url: string;\r\n    download_url: string;\r\n}\r\nexport const GithubFilePicker = () => {\r\n    const [githubRepo, setGithubRepo] = useState(\"Mordheim\");\r\n    const [githubUser, setGithubUser] = useState(\"Labernator\");\r\n    const [currentContentUrl, setCurrentContentUrl] = useState(\"\");\r\n    const [currentContent, setCurrentContent] = useState<GithubContent[]>([]);\r\n    const [selectedFile, setSelectedFile] = useState<string>();\r\n    const [navigationMap, setNavigationMap] = useState<GithubContent[]>([]);\r\n    const history = useHistory();\r\n    useEffect(() => {\r\n        const fetching = async () => fetchData();\r\n        // tslint:disable-next-line: no-floating-promises\r\n        fetching();\r\n        return () => {\r\n            // this now gets called when the component unmounts\r\n        };\r\n    }, [currentContentUrl]);\r\n    const fetchData = async () => {\r\n        const response = await fetch(currentContentUrl || `https://api.github.com/repos/${githubUser}/${githubRepo}/contents`);\r\n        const jsonResponse = await response.json();\r\n        if (!currentContentUrl) {\r\n            setNavigationMap([{ ...jsonResponse, name: \"root\" }]);\r\n        }\r\n        setCurrentContent(jsonResponse);\r\n    };\r\n    const getYamlDataAndJump = async () => {\r\n        if (!selectedFile) {\r\n            return;\r\n        }\r\n        try {\r\n            const response = await fetch(selectedFile);\r\n            const txtResponse = await response.text();\r\n            history.push(\"/PdfExport\", yaml.load(txtResponse));\r\n        } catch (e) {\r\n            throw (e);\r\n        }\r\n    };\r\n    const getNavigationRoute = () =>\r\n        navigationMap.length > 0 ?\r\n            <div style={{ display: \"flex\" }}>\r\n                {navigationMap.map((nav, idx) =>\r\n                    <div\r\n                        style={{ color: \"blue\", padding: \"1rem 0.1rem\" }}\r\n                        onClick={() => {\r\n                            setCurrentContentUrl(nav.url);\r\n                            setNavigationMap(navigationMap.slice(0, idx + 1));\r\n                        }}>\r\n                        {`${nav.name} /`}\r\n                    </div>)}\r\n            </div> :\r\n            <div>No Path yet</div>;\r\n\r\n    const getFoldersAndYmls = () => {\r\n        const filteredContent = currentContent.length && currentContent.length > 0 ? currentContent.filter((content) => content.type === \"dir\" || (content.type === \"file\" && content.name.indexOf(\".yml\") !== -1)) : undefined;\r\n        return <table className=\"storage-table\" style={{ width: \"calc(100% - 1.5rem)\", textAlign: \"left\" }}>\r\n            <thead>\r\n                <tr><td>Folder/File</td><td>Type</td></tr>\r\n            </thead>\r\n            <tbody>\r\n                {filteredContent ? filteredContent.map((content) => content.type === \"dir\" ?\r\n                    <tr onClick={() => {\r\n                        setCurrentContentUrl(content.url);\r\n                        setNavigationMap([...navigationMap, content]);\r\n                    }\r\n                    }>\r\n                        <td>{content.name}</td>\r\n                        <td>Dir</td>\r\n                    </tr> :\r\n                    <tr onClick={() => setSelectedFile(content.download_url)} className={content.download_url === selectedFile ? \"selected\" : \"\"}><td>{content.name}</td><td>File</td></tr>\r\n                ) : undefined}\r\n            </tbody>\r\n        </table>;\r\n    };\r\n    return <React.Fragment><div>\r\n        <div className=\"bold-text-with-margins\" style={{ float: \"left\" }}>Or select a yml file from a Github repo</div>\r\n        <div className=\"bold-text-with-margins\" style={{ float: \"left\" }}>Github Repository: </div>\r\n        <div className=\"text-with-margins\" style={{ float: \"left\" }}>{githubUser}/{githubRepo}</div>\r\n    </div>\r\n        <div>\r\n            <div className=\"bold-text-with-margins\" style={{ marginTop: \"1rem\" }}>Tap on an entry in the table to navigate or on the path below to go back</div>\r\n            {getNavigationRoute()}\r\n            {getFoldersAndYmls()}\r\n            <div className={selectedFile ? \"enabled\" : \"disabled\"} onClick={getYamlDataAndJump}>Generate Pdf from Selection</div>\r\n\r\n        </div>\r\n    </React.Fragment>;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Completed.7ca392ee.png\";","export default __webpack_public_path__ + \"static/media/ImportCrew.e5abae4c.png\";","export default __webpack_public_path__ + \"static/media/Loading.382232d0.png\";","export default __webpack_public_path__ + \"static/media/Middenheim.f6075d09.png\";","export default __webpack_public_path__ + \"static/media/Nurgle.035dd089.png\";","export default __webpack_public_path__ + \"static/media/Orcs.aba56332.png\";","export default __webpack_public_path__ + \"static/media/Sigmar.35f347f6.png\";","import * as Equipment from \"../data/Equipment.json\";\r\nimport * as EquipmentRules from \"../data/EquipmentRules.json\";\r\nimport * as Skills from \"../data/Skills.json\";\r\nimport * as Spells from \"../data/Spells.json\";\r\nimport { ArmourEntity, EquipmentEntity, EquipmentRulesEntity, HenchmenEntity, HerosEntity, MeleeWeaponsEntity, MiscallaneousEntity, MissileWeaponsEntity, SkillsEntity, SpellsEntity } from \"./Interfaces\";\r\n\r\nconst AllSkills = Skills.Skills as SkillsEntity[];\r\nconst AllSpells = Spells.Spells as SpellsEntity[];\r\nconst AllEquipment = Equipment.equipment as EquipmentEntity[];\r\nconst AllArmour = AllEquipment.filter((eq) => eq.Armour)[0].Armour as ArmourEntity[];\r\nconst AllMeleeWeapons = AllEquipment.filter((eq) => eq.MeleeWeapons)[0].MeleeWeapons as MeleeWeaponsEntity[];\r\nconst AllMissileWeapons = AllEquipment.filter((eq) => eq.MissileWeapons)[0].MissileWeapons as MissileWeaponsEntity[];\r\nconst AllMiscallaneous = AllEquipment.filter((eq) => eq.Miscallaneous)[0].Miscallaneous as MiscallaneousEntity[];\r\n\r\nexport const findSkills = (units: Array<HerosEntity | HenchmenEntity>): Array<SpellsEntity | SkillsEntity | undefined> => {\r\n    const unitsWithRules = units.filter((unit) => unit.rules);\r\n    const uniqueRules = [...new Set(unitsWithRules.reduce((acc, unit) => {\r\n        if (unit.rules) {\r\n            const regex = new RegExp(/(?<!\\(),(?![\\w\\s]*[)])/);\r\n            const unitRules = unit.rules.split(regex).map((rule) => rule.trim());\r\n            return [...acc, ...unitRules];\r\n        }\r\n        return acc;\r\n    }, [] as string[]))];\r\n    // tslint:disable: no-console\r\n    const skills = uniqueRules.reduce((acc, rule) => {\r\n        const foundSkill = AllSkills.find((skill) => skill.name === rule);\r\n        if (foundSkill) {\r\n            return [...acc, foundSkill];\r\n        }\r\n        if (rule.indexOf(\"Wizard\") !== -1 || rule.indexOf(\"Priest\") !== -1) {\r\n            const classStart = rule.lastIndexOf(\"(\");\r\n            const classEnd = rule.lastIndexOf(\")\");\r\n            const spellName = rule.substring(classStart + 1, classEnd);\r\n            const allSpells = spellName.split(\",\").map((entry) => entry.trim());\r\n            const mappedSpells = allSpells.reduce((accum, element) => {\r\n                let currentSpell = element;\r\n                let spellReduction = 0;\r\n                if (currentSpell.lastIndexOf(\"[\")) {\r\n                    spellReduction = parseInt(currentSpell.substring(currentSpell.lastIndexOf(\"[\") + 1, currentSpell.lastIndexOf(\"]\")), 10);\r\n                    currentSpell = currentSpell.substring(0, currentSpell.lastIndexOf(\"[\")).trim();\r\n                }\r\n                const foundSpell = AllSpells.find((spell) => spell.name === currentSpell);\r\n                if (foundSpell) {\r\n                    const modifiedSpell = {\r\n                        ...foundSpell,\r\n                        castingCost: spellReduction ? `${(parseInt(foundSpell.castingCost, 10) + spellReduction).toString()}+` : foundSpell.castingCost,\r\n                    };\r\n                    return [...accum, modifiedSpell];\r\n                }\r\n                return accum;\r\n            }, [] as SpellsEntity[]);\r\n            return [...acc, ...mappedSpells];\r\n        }\r\n        if (rule.indexOf(\"Hatred\") !== -1) {\r\n            return [...acc, AllSkills.find((skill) => skill.name === \"Hatred\") as SkillsEntity];\r\n        }\r\n        return acc;\r\n    }, [] as Array<SpellsEntity | SkillsEntity>);\r\n    console.log(skills);\r\n    return skills;\r\n};\r\n\r\nexport const findEquipment = (units: Array<HerosEntity | HenchmenEntity>): Array<MeleeWeaponsEntity | MissileWeaponsEntity | ArmourEntity | MiscallaneousEntity> => {\r\n    const unitsWithEquipment = units.filter((unit) => unit.weapons || unit.armour);\r\n    const uniqueEquipment = [...new Set(unitsWithEquipment.reduce((acc, unit) => {\r\n        let unitWeapons: string[] = [];\r\n        let unitArmour: string[] = [];\r\n        if (unit.weapons) {\r\n            unitWeapons = unit.weapons.split(\",\").map((weapon) => weapon.trim());\r\n        }\r\n        if (unit.armour) {\r\n            unitArmour = unit.armour.split(\",\").map((armour) => armour.trim());\r\n        }\r\n        return [...acc, ...unitWeapons, ...unitArmour];\r\n    }, [] as string[]))];\r\n    const foundArmour = uniqueEquipment.map((equi) => {\r\n        const foundEquipment = AllArmour.find((equipment) => equipment.type === equi.trim());\r\n        if (foundEquipment) {\r\n            return foundEquipment;\r\n        }\r\n        return undefined;\r\n    }).filter((equi) => equi) as ArmourEntity[];\r\n    const melee = uniqueEquipment.map((equi) => {\r\n        const foundEquipment = AllMeleeWeapons.find((equipment) => equipment.type === equi.trim());\r\n        if (foundEquipment) {\r\n            return foundEquipment;\r\n        }\r\n        return undefined;\r\n    }).filter((equi) => equi) as MeleeWeaponsEntity[];\r\n    const missile = uniqueEquipment.map((equi) => {\r\n        const foundEquipment = AllMissileWeapons.find((equipment) => equipment.type === equi.trim());\r\n        if (foundEquipment) {\r\n            return foundEquipment;\r\n        }\r\n        return undefined;\r\n    }).filter((equi) => equi) as MissileWeaponsEntity[];\r\n    const misc = uniqueEquipment.map((equi) => {\r\n        const foundEquipment = AllMiscallaneous.find((equipment) => equipment.type === equi.trim());\r\n        if (foundEquipment) {\r\n            return foundEquipment;\r\n        }\r\n        return undefined;\r\n    }).filter((equi) => equi) as MiscallaneousEntity[];\r\n    return [...foundArmour, ...melee, ...missile, ...misc];\r\n};\r\n\r\nexport const getEquipmentRules = (rules: string[]): EquipmentRulesEntity[] => {\r\n    const mappedRules = rules.map((ruleString) => EquipmentRules.rules.find((rule) => rule.name === ruleString));\r\n    return mappedRules.filter((entry) => entry) as EquipmentRulesEntity[];\r\n};\r\n","export interface WarbandState {\r\n    warband: string;\r\n    campaign: number;\r\n    gc: number;\r\n    shards: number;\r\n    objective: string;\r\n    alignment: string;\r\n    heros?: HerosEntity[];\r\n    henchmen?: HenchmenEntity[];\r\n    notes?: string;\r\n}\r\n\r\nexport interface HerosEntity {\r\n    hero: string;\r\n    stats: string;\r\n    weapons: string;\r\n    armour?: string;\r\n    rules?: string;\r\n    skilllists: string;\r\n}\r\n\r\nexport interface HenchmenEntity {\r\n    group: string;\r\n    stats: string;\r\n    weapons?: string;\r\n    armour?: string;\r\n    rules?: string;\r\n}\r\n\r\nexport interface Stats {\r\n    M: string;\r\n    WS: string;\r\n    BS: string;\r\n    S: string;\r\n    T: string;\r\n    W: string;\r\n    I: string;\r\n    A: string;\r\n    LD: string;\r\n    Sv: string;\r\n}\r\n\r\nexport interface SkillsEntity {\r\n    name: string;\r\n    type: string;\r\n    text: string;\r\n    prerequisite?: Prerequisite;\r\n}\r\n\r\nexport interface Prerequisite {\r\n    type: string;\r\n    condition: number | string;\r\n    lookup?: string;\r\n}\r\n\r\nexport interface SpellsEntity {\r\n    name: string;\r\n    type: string;\r\n    castingCost: string;\r\n    text: string;\r\n}\r\n\r\nexport interface EquipmentEntity {\r\n    MeleeWeapons?: MeleeWeaponsEntity[];\r\n    MissileWeapons?: MissileWeaponsEntity[];\r\n    Armour?: ArmourEntity[];\r\n    Miscallaneous?: MiscallaneousEntity[];\r\n}\r\nexport interface MeleeWeaponsEntity {\r\n    type: string;\r\n    cost: number;\r\n    rarity: number;\r\n    weaponType: string;\r\n    rules?: string[];\r\n    strengthModifier: string;\r\n}\r\nexport interface MissileWeaponsEntity {\r\n    type: string;\r\n    cost: number;\r\n    rarity: number;\r\n    weaponType: string;\r\n    rules?: string[];\r\n    strength: number | string;\r\n    range: number;\r\n    variableCost?: string;\r\n}\r\nexport interface ArmourEntity {\r\n    type: string;\r\n    cost: number;\r\n    rarity: number;\r\n    armourType: string;\r\n    rules?: string[];\r\n    armour: number;\r\n    variableCost?: string;\r\n}\r\nexport interface MiscallaneousEntity {\r\n    type: string;\r\n    cost: number;\r\n    variableCost?: string;\r\n    rarity: number;\r\n    genus: string;\r\n    rules?: string[];\r\n    text?: string;\r\n}\r\n\r\nexport interface EquipmentRulesEntity {\r\n    name: string;\r\n    text: string;\r\n}\r\n\r\n// Type guards\r\nexport const isHero = (unit: HenchmenEntity | HerosEntity): unit is HerosEntity => (unit as HerosEntity).hero !== undefined;\r\nexport const isSpell = (skillOrSpell: SkillsEntity | SpellsEntity): skillOrSpell is SpellsEntity => (skillOrSpell as SpellsEntity).castingCost !== undefined;\r\nexport const isArmour = (equipment: ArmourEntity | MiscallaneousEntity | MissileWeaponsEntity | MeleeWeaponsEntity): equipment is ArmourEntity => (equipment as ArmourEntity).armourType !== undefined;\r\nexport const isMisc = (equipment: ArmourEntity | MiscallaneousEntity | MissileWeaponsEntity | MeleeWeaponsEntity): equipment is MiscallaneousEntity => (equipment as MiscallaneousEntity).genus !== undefined;\r\nexport const isMelee = (equipment: ArmourEntity | MiscallaneousEntity | MissileWeaponsEntity | MeleeWeaponsEntity): equipment is MeleeWeaponsEntity => (equipment as MeleeWeaponsEntity).strengthModifier !== undefined;\r\nexport const isMissile = (equipment: ArmourEntity | MiscallaneousEntity | MissileWeaponsEntity | MeleeWeaponsEntity): equipment is MissileWeaponsEntity => (equipment as MissileWeaponsEntity).range !== undefined;\r\n","import { MiddenheimPng, NurglePng, OnGPng, SigmarPng } from \"../images\";\r\nimport { HenchmenEntity, HerosEntity, isHero, Stats } from \"./Interfaces\";\r\n\r\nexport const extractExperience = (hero: HerosEntity): number => {\r\n    const nameAndXp = hero.hero;\r\n    const bracketStart = nameAndXp.lastIndexOf(\"[\");\r\n    const bracketEnd = nameAndXp.lastIndexOf(\"]\");\r\n    return parseInt(nameAndXp.substring(bracketStart + 1, bracketEnd), 10);\r\n};\r\n\r\nexport const getNextLevelUp = (currentXp: number): number => {\r\n    switch (currentXp) {\r\n        case 0:\r\n        case 1: return 2;\r\n        case 2:\r\n        case 3: return 4;\r\n        case 4:\r\n        case 5: return 6;\r\n        case 6:\r\n        case 7: return 8;\r\n        case 8:\r\n        case 9:\r\n        case 10: return 11;\r\n        case 11:\r\n        case 12:\r\n        case 13: return 14;\r\n        case 14:\r\n        case 15:\r\n        case 16: return 17;\r\n        case 17:\r\n        case 18:\r\n        case 19: return 20;\r\n        case 20:\r\n        case 21:\r\n        case 22:\r\n        case 23: return 24;\r\n        case 24:\r\n        case 25:\r\n        case 26:\r\n        case 27: return 28;\r\n        case 28:\r\n        case 29:\r\n        case 30:\r\n        case 31: return 32;\r\n        case 32:\r\n        case 33:\r\n        case 34:\r\n        case 35: return 36;\r\n        case 36:\r\n        case 37:\r\n        case 38:\r\n        case 39:\r\n        case 40: return 41;\r\n        default: return 0;\r\n    }\r\n};\r\n\r\nexport const extractName = (unit: HerosEntity | HenchmenEntity): string => {\r\n    const nameAndXp = isHero(unit) ? unit.hero : unit.group;\r\n    const classStart = nameAndXp.lastIndexOf(\"(\");\r\n    return nameAndXp.substring(0, classStart);\r\n};\r\n\r\nexport const extractClass = (unit: HerosEntity | HenchmenEntity): string => {\r\n    const nameAndXp = isHero(unit) ? unit.hero : unit.group;\r\n    const classStart = nameAndXp.lastIndexOf(\"(\");\r\n    const classEnd = nameAndXp.lastIndexOf(\")\");\r\n    return nameAndXp.substring(classStart + 1, classEnd);\r\n};\r\n\r\nexport const extractHenchmenBodies = (henchmen: HenchmenEntity): number => {\r\n    const nameAndXp = henchmen.group;\r\n    const bracketStart = nameAndXp.lastIndexOf(\"(\");\r\n    const numberEnd = isNaN(parseInt(nameAndXp.charAt(bracketStart + 2), 10)) ? bracketStart + 2 : bracketStart + 3;\r\n    const bodyCount = parseInt(nameAndXp.substring(bracketStart + 1, numberEnd), 10);\r\n    return bodyCount;\r\n};\r\n\r\nexport const isLargeHenchman = (henchmanGroup: HenchmenEntity): boolean => {\r\n    const rules = henchmanGroup.rules;\r\n    if (rules) {\r\n        return rules.indexOf(\"Large\") !== -1;\r\n    }\r\n    return false;\r\n};\r\n\r\nexport const getWarbandRating = (heroes: HerosEntity[], henchmen: HenchmenEntity[]): number => {\r\n    const experience = heroes.reduce((prev, curr) => prev + extractExperience(curr), 0) || 0;\r\n    const heroBodies = heroes.length * 5;\r\n    const henchmenBodies = henchmen.reduce((prev, curr) => prev + extractHenchmenBodies(curr) + (isLargeHenchman(curr) ? 3 : 0), 0) * 5;\r\n    return experience + heroBodies + henchmenBodies;\r\n};\r\n\r\nconst getWarbandSize = (heroes: HerosEntity[], henchmen: HenchmenEntity[]): number => heroes.length + henchmen.reduce((prev, curr) => prev + extractHenchmenBodies(curr), 0);\r\nexport const getRoutLimit = (heroes: HerosEntity[], henchmen: HenchmenEntity[]): number => Math.ceil(getWarbandSize(heroes, henchmen) / 4);\r\n\r\nexport const getStatLine = (statString: string): Stats => {\r\n    const statArr = statString.split(\",\").map((subString) => subString.replace(/^\\D+/g, \"\"));\r\n    return {\r\n        M: statArr[0],\r\n        WS: statArr[1],\r\n        BS: statArr[2],\r\n        S: statArr[3],\r\n        T: statArr[4],\r\n        W: statArr[5],\r\n        I: statArr[6],\r\n        A: statArr[7],\r\n        LD: statArr[8],\r\n        Sv: statString.substring(statString.indexOf(\"Sv\") + 2),\r\n    };\r\n};\r\n\r\nexport const getWatermark = (warbandName: string) => {\r\n    const warbandType = warbandName.substring(warbandName.lastIndexOf(\"(\") + 1, warbandName.lastIndexOf(\")\"));\r\n    switch (warbandType) {\r\n        case \"Orcs & Goblins\": return OnGPng;\r\n        case \"Sisters of Sigmar\": return SigmarPng;\r\n        case \"Carnival of Chaos\": return NurglePng;\r\n        case \"Mercenaries of Middenheim\": return MiddenheimPng;\r\n        default: return \"\";\r\n    }\r\n};\r\n","import React from \"react\";\r\nimport { HenchmenEntity, HerosEntity } from \"../utilities/Interfaces\";\r\n\r\nexport const RulesSection = ({ Unit }: { Unit: HerosEntity | HenchmenEntity }) => {\r\n    const rules = Unit.rules;\r\n    return rules ? <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <div className=\"bold-text-with-margins\">Rules: </div>\r\n        <div className=\"text-with-margins\">{rules}</div>\r\n    </div> : <React.Fragment />;\r\n};\r\n","import React from \"react\";\r\nimport { HenchmenEntity, HerosEntity } from \"../utilities/Interfaces\";\r\nimport { getStatLine } from \"../utilities/RosterUtils\";\r\n\r\nexport const StatsAndEquipmentSection = ({ Unit }: { Unit: HerosEntity | HenchmenEntity }) => {\r\n    const statLine = getStatLine(Unit.stats);\r\n    const WeaponsPart = () => {\r\n        const weapons = Unit.weapons;\r\n        return weapons ? <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <div className=\"bold-text-with-margins\">Weapons: </div>\r\n            <div className=\"text-with-margins\">{weapons}</div>\r\n        </div> : <React.Fragment />;\r\n    };\r\n    const ArmourPart = () => {\r\n        const armour = Unit.armour;\r\n        return armour ? <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <div className=\"bold-text-with-margins\">Armour:</div>\r\n            <div className=\"text-with-margins\">{armour}</div>\r\n        </div> : <React.Fragment />;\r\n    };\r\n\r\n    return <div className=\"unit-layout\" style={{ borderTop: \"0.1rem solid\" }}>\r\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n            <div style={{ display: \"flex\" }}>\r\n                {Object.entries(statLine).map(([key, value]) =>\r\n                    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                        <div className=\"bold-text-with-margins\">{key}</div>\r\n                        <div className=\"text-with-margins\" style={{ textAlign: \"center\" }}>{value}</div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n        <WeaponsPart />\r\n        <ArmourPart />\r\n    </div >;\r\n};\r\n","import { HenchmenEntity, HerosEntity, isHero } from \"../utilities/Interfaces\";\r\nimport { extractClass, extractExperience, extractName, getNextLevelUp } from \"../utilities/RosterUtils\";\r\n\r\nexport const UnitHeader = ({ Unit }: { Unit: HerosEntity | HenchmenEntity }) =>\r\n    <div className=\"unit-layout\">\r\n        <div style={{ display: \"flex\" }}>\r\n            <div className=\"bold-text-with-margins\">Name: </div>\r\n            <div className=\"text-with-margins\">{extractName(Unit)}</div>\r\n        </div>\r\n        <div style={{ display: \"flex\" }}>\r\n            <div className=\"bold-text-with-margins\">Type: </div>\r\n            <div className=\"text-with-margins\">{extractClass(Unit)}</div>\r\n        </div>\r\n        {isHero(Unit) ? <div style={{ display: \"flex\" }}>\r\n            <div className=\"bold-text-with-margins\">Experience: </div>\r\n            <div className=\"text-with-margins\">{`${extractExperience(Unit)} [ +${getNextLevelUp(extractExperience(Unit)) - extractExperience(Unit)} ]`}</div>\r\n        </div> : <div></div>}\r\n    </div>;\r\n","import { WarbandState } from \"../utilities/Interfaces\";\r\nimport { getRoutLimit, getWarbandRating } from \"../utilities/RosterUtils\";\r\n\r\nexport const WarbandHeader = ({ warband }: { warband: WarbandState }) =>\r\n    <div className=\"unit-container\" >\r\n        <div style={{ display: \"flex\", justifyContent: \"space-between\", fontSize: \"1rem\" }}>\r\n\r\n            <div style={{ display: \"flex\" }}>\r\n                <div className=\"bold-text-with-margins\">Warband Name: </div>\r\n                <div className=\"bold-text-with-margins\">{warband.warband}</div>\r\n            </div>\r\n            <div style={{ display: \"flex\" }}>\r\n                <div className=\"bold-text-with-margins\">Warband Rating: </div>\r\n                <div className=\"bold-text-with-margins\">{getWarbandRating(warband.heros || [], warband.henchmen || [])}</div>\r\n            </div>\r\n            <div style={{ display: \"flex\" }}>\r\n                <div className=\"bold-text-with-margins\">Rout Limit: </div>\r\n                <div className=\"bold-text-with-margins\">{getRoutLimit(warband.heros || [], warband.henchmen || [])}</div>\r\n            </div>\r\n            <div style={{ display: \"flex\" }}>\r\n                <div className=\"bold-text-with-margins\">Gold Coins: </div>\r\n                <div className=\"bold-text-with-margins\">{warband.gc}</div>\r\n            </div>\r\n            <div style={{ display: \"flex\" }}>\r\n                <div className=\"bold-text-with-margins\">Shards: </div>\r\n                <div className=\"bold-text-with-margins\">{warband.shards}</div>\r\n            </div>\r\n        </div>\r\n    </div>;\r\n","import React from \"react\";\r\nimport { findEquipment, findSkills, getEquipmentRules } from \"../utilities/InfoUtils\";\r\nimport { ArmourEntity, HerosEntity, isArmour, isMelee, isMisc, isMissile, isSpell, MeleeWeaponsEntity, MiscallaneousEntity, MissileWeaponsEntity, SkillsEntity, SpellsEntity, WarbandState } from \"../utilities/Interfaces\";\r\nimport { getWatermark } from \"../utilities/RosterUtils\";\r\nimport { RulesSection } from \"./RulesSection\";\r\nimport { StatsAndEquipmentSection } from \"./StatsAndEquipmentSection\";\r\nimport { UnitHeader } from \"./UnitHeader\";\r\nimport { WarbandHeader } from \"./WarbandHeader\";\r\n\r\nexport const PdfInfoPage = ({ state }: { state: WarbandState }) => {\r\n    const heroes = state.heros || [];\r\n    const henchmen = state.henchmen || [];\r\n    const units = [...heroes, ...henchmen];\r\n    const spells = findSkills(units).filter((entity) => entity && isSpell(entity)) as SpellsEntity[];\r\n    const skills = findSkills(units).filter((entity) => entity && !isSpell(entity)) as SkillsEntity[];\r\n    const equipment = findEquipment(units);\r\n    if (spells.length + skills.length + equipment.length > 15) {\r\n        return <React.Fragment>\r\n            <div className=\"pdf-container\" id=\"pdf-info-page\" style={{ top: \"-10000px\" }}>\r\n                <img src={getWatermark(state.warband)} className=\"pdf-watermark\"></img>\r\n                <WarbandHeader warband={state} />\r\n                <div className=\"unit-container\" style={{ minHeight: \"50%\" }}>\r\n                    <NotesSection notes={state.notes} />\r\n                    <SkillsSection skills={skills} />\r\n                </div>\r\n            </div>\r\n            <div className=\"pdf-container\" id=\"pdf-info-page2\" style={{ top: \"-10000px\" }}>\r\n                <img src={getWatermark(state.warband)} className=\"pdf-watermark\"></img>\r\n                <WarbandHeader warband={state} />\r\n                <div className=\"unit-container\" style={{ minHeight: \"50%\" }}>\r\n                    <SpellsSection spells={spells} />\r\n                    <EquipmentSection equipment={equipment} />\r\n                </div>\r\n            </div>\r\n        </React.Fragment>;\r\n    }\r\n    return <React.Fragment>\r\n        <div className=\"pdf-container\" id=\"pdf-info-page\" style={{ top: \"-10000px\" }}>\r\n            <img src={getWatermark(state.warband)} className=\"pdf-watermark\"></img>\r\n            <WarbandHeader warband={state} />\r\n            <div className=\"unit-container\" style={{ minHeight: \"50%\" }}>\r\n                <NotesSection notes={state.notes} />\r\n                <SkillsSection skills={skills} />\r\n                <SpellsSection spells={spells} />\r\n                <EquipmentSection equipment={equipment} />\r\n            </div>\r\n        </div>\r\n    </React.Fragment>;\r\n\r\n};\r\n\r\nconst NotesSection = ({ notes }: { notes: string | HerosEntity[] | undefined }) => {\r\n    if (!notes) {\r\n        return null;\r\n    }\r\n    if (typeof notes === \"string\") {\r\n        return <React.Fragment>\r\n            <div className=\"large-header\">Notes</div>\r\n            <div className=\"text-with-margins\">{notes}</div>\r\n        </React.Fragment>;\r\n    }\r\n    return <React.Fragment>\r\n        <div className=\"large-header\">Notes</div>\r\n        {notes.map((note) => <React.Fragment>\r\n            <UnitHeader Unit={note} />\r\n            <StatsAndEquipmentSection Unit={note} />\r\n            <RulesSection Unit={note} />\r\n        </React.Fragment>)}\r\n    </React.Fragment>;\r\n};\r\n\r\nconst SkillsSection = ({ skills }: { skills: SkillsEntity[] }) => <React.Fragment>\r\n    {skills.length > 0 ? <div className=\"large-header\">Skills and other Rules</div> : undefined}\r\n    {skills.map((entity) => <div className=\"info-page-flexbox\">\r\n        <div className=\"bold-text-with-margins\">{entity.type === \"Generic\" ? `${entity.name}` : `${entity.name} (${entity.type})`}</div>\r\n        <div className=\"text-with-margins\">{entity.text}</div>\r\n    </div>)}\r\n</React.Fragment>;\r\n\r\nconst SpellsSection = ({ spells }: { spells: SpellsEntity[] }) => <React.Fragment>\r\n    {spells.length > 0 ? <div className=\"large-header\">Spells</div> : undefined}\r\n    {spells.map((entity) => <div className=\"info-page-flexbox\">\r\n        <div className=\"bold-text-with-margins\">{`${entity.name} (${entity.type}) [${entity.castingCost}]`}</div>\r\n        <div className=\"text-with-margins\">{entity.text}</div>\r\n    </div>)}\r\n</React.Fragment>;\r\n\r\nconst EquipmentSection = ({ equipment }: { equipment: Array<MeleeWeaponsEntity | MissileWeaponsEntity | ArmourEntity | MiscallaneousEntity> }) => <React.Fragment>\r\n    {equipment.length > 0 ? <div className=\"large-header\">Equipment</div> : undefined}\r\n    {equipment.map((entity) => {\r\n        if (isArmour(entity)) {\r\n            return <div className=\"info-page-flexbox\">\r\n                <div className=\"bold-text-with-margins\">{`${entity.type}`}</div>\r\n                <div className=\"text-with-margins\"><div>{`Add +${entity.armour} to your armour save.`}</div>{getEquipmentRules(entity.rules || []).map((rule) => <div>{rule.text}</div>)}</div>\r\n            </div>;\r\n        }\r\n        if (isMelee(entity)) {\r\n            return <div className=\"info-page-flexbox\">\r\n                <div className=\"bold-text-with-margins\">{`${entity.type} (Strength ${entity.strengthModifier || \"+0\"})`}</div>\r\n                <div className=\"text-with-margins\">{getEquipmentRules(entity.rules || []).map((rule) => <div>{rule.text}</div>)}</div>\r\n            </div>;\r\n        }\r\n        if (isMisc(entity)) {\r\n            return <div className=\"info-page-flexbox\">\r\n                <div className=\"bold-text-with-margins\">{`${entity.type}`}</div>\r\n                {entity.rules ? <div className=\"text-with-margins\">{getEquipmentRules(entity.rules).map((rule) => <div>{rule.text}</div>)}</div> : <div className=\"text-with-margins\">{entity.text}</div>}\r\n            </div>;\r\n        }\r\n        if (isMissile(entity)) {\r\n            return <div className=\"info-page-flexbox\">\r\n                <div className=\"bold-text-with-margins\">{`${entity.type} (Strength ${entity.strength}, Range ${entity.range})`}</div>\r\n                <div className=\"text-with-margins\">{getEquipmentRules(entity.rules || []).map((rule) => <div>{rule.text}</div>)}</div>\r\n            </div>;\r\n        }\r\n        return undefined;\r\n    }\r\n    )}\r\n</React.Fragment>;\r\n","import React from \"react\";\r\nimport { HerosEntity } from \"../utilities/Interfaces\";\r\n\r\nexport const SkillListsSection = ({ Unit }: { Unit: HerosEntity }) => {\r\n    const skilllists = Unit.skilllists;\r\n    return skilllists ? <div style={{ display: \"flex\", flexDirection: \"row\" }}>\r\n        <div className=\"bold-text-with-margins\">Skill Lists: </div>\r\n        <div className=\"text-with-margins\">{skilllists}</div>\r\n    </div> : <React.Fragment />;\r\n};\r\n","import React from \"react\";\r\nimport { isHero, WarbandState } from \"../utilities/Interfaces\";\r\nimport { getWatermark } from \"../utilities/RosterUtils\";\r\nimport { RulesSection } from \"./RulesSection\";\r\nimport { SkillListsSection } from \"./SkillListsSection\";\r\nimport { StatsAndEquipmentSection } from \"./StatsAndEquipmentSection\";\r\nimport { UnitHeader } from \"./UnitHeader\";\r\nimport { WarbandHeader } from \"./WarbandHeader\";\r\n\r\nexport const PdfRoster = ({ state }: { state: WarbandState }) => {\r\n    const heroes = state.heros || [];\r\n    const henchmen = state.henchmen || [];\r\n    const units = [...heroes, ...henchmen];\r\n    if (heroes.length + henchmen.length > 8) {\r\n        return <React.Fragment>\r\n            <div className=\"pdf-container\" style={{ top: \"-10000px\" }} id=\"pdf-roster\">\r\n                <img src={getWatermark(state.warband)} className=\"pdf-watermark\"></img>\r\n                <WarbandHeader warband={state} />\r\n                {heroes.map((unit) =>\r\n                    <div className=\"unit-container\">\r\n                        <UnitHeader Unit={unit} />\r\n                        <StatsAndEquipmentSection Unit={unit} />\r\n                        <SkillListsSection Unit={unit} />\r\n                        <RulesSection Unit={unit} />\r\n                    </div>)}\r\n                <div style={{ marginLeft: \"1rem\" }}>* the [ +* ] notation behind the experience states how many xp you need to gain the next advance</div>\r\n            </div>\r\n            <div className=\"pdf-container\" style={{ top: \"-7000px\" }} id=\"pdf-roster2\">\r\n                <img src={getWatermark(state.warband)} className=\"pdf-watermark\"></img>\r\n                <WarbandHeader warband={state} />\r\n                {henchmen.map((unit) =>\r\n                    <div className=\"unit-container\">\r\n\r\n                        <UnitHeader Unit={unit} />\r\n                        <StatsAndEquipmentSection Unit={unit} />\r\n                        <RulesSection Unit={unit} />\r\n                    </div>)}\r\n                <div style={{ marginLeft: \"1rem\" }}>* the [ +* ] notation behind the experience states how many xp you need to gain the next advance</div>\r\n            </div>\r\n        </React.Fragment>;\r\n    }\r\n    return <React.Fragment>\r\n        <div className=\"pdf-container\" style={{ top: \"-10000px\" }} id=\"pdf-roster\">\r\n            <img src={getWatermark(state.warband)} className=\"pdf-watermark\"></img>\r\n            <WarbandHeader warband={state} />\r\n            {units.map((unit) =>\r\n                <div className=\"unit-container\">\r\n\r\n                    <UnitHeader Unit={unit} />\r\n                    <StatsAndEquipmentSection Unit={unit} />\r\n                    {isHero(unit) ? <SkillListsSection Unit={unit} /> : undefined}\r\n                    <RulesSection Unit={unit} />\r\n                </div>)}\r\n            <div style={{ marginLeft: \"1rem\" }}>* the [ +* ] notation behind the experience states how many xp you need to gain the next advance</div>\r\n        </div>\r\n\r\n    </React.Fragment>;\r\n};\r\n","import React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport \"./css/App.css\";\r\nimport { LandingPage, PdfCreationPage } from \"./pages\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <div className=\"app-body\">\r\n        <Switch>\r\n          <Route path=\"/PdfExport\" component={PdfCreationPage} />\r\n          <Route path=\"/\" component={LandingPage} />\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","\r\nimport html2canvas from \"html2canvas\";\r\nimport { jsPDF } from \"jspdf\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { PdfInfoPage, PdfRoster } from \"../components\";\r\nimport \"../css/Pdf.css\";\r\nimport { CompletedPng, LoadingPng } from \"../images\";\r\nimport { WarbandState } from \"../utilities/Interfaces\";\r\n\r\nexport const PdfCreationPage = () => {\r\n    const history = useHistory();\r\n    const state = history.location.state as WarbandState;\r\n    const exportPdf = async () => {\r\n        const jsPdf = new jsPDF(\"portrait\", \"mm\", \"a4\", true);\r\n        let canvas: HTMLCanvasElement;\r\n        canvas = await html2canvas(document.querySelector(\"#pdf-roster\") as HTMLElement, { scale: 4 });\r\n        jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n\r\n        if (document.querySelector(\"#pdf-roster2\")) {\r\n            jsPdf.addPage();\r\n            canvas = await html2canvas(document.querySelector(\"#pdf-roster2\") as HTMLElement, { scale: 4 });\r\n            jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n        }\r\n\r\n        jsPdf.addPage();\r\n        canvas = await html2canvas(document.querySelector(\"#pdf-info-page\") as HTMLElement, { scale: 4 });\r\n        jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n        if (document.querySelector(\"#pdf-info-page2\")) {\r\n            jsPdf.addPage();\r\n            canvas = await html2canvas(document.querySelector(\"#pdf-info-page2\") as HTMLElement, { scale: 4 });\r\n            jsPdf.addImage(canvas.toDataURL(\"image/png\"), \"JPEG\", 0, 0, jsPdf.internal.pageSize.getWidth(), jsPdf.internal.pageSize.getHeight());\r\n        }\r\n        jsPdf.save(`${state.warband}.pdf`);\r\n    };\r\n    const [showSuccess, setSuccess] = useState<boolean>(false);\r\n    useEffect(() => {\r\n        // tslint:disable-next-line: no-floating-promises\r\n        (async () => {\r\n            await exportPdf();\r\n            setSuccess(true);\r\n        })();\r\n        return () => {\r\n            // this now gets called when the component unmounts\r\n        };\r\n    }, []);\r\n    return <React.Fragment>\r\n        {showSuccess ?\r\n            <React.Fragment>\r\n                <img src={CompletedPng} className=\"img-container\" alt=\"Complete Icon\"></img>\r\n                <div className=\"large-header\">Enjoy your pdf</div>\r\n                <div\r\n                    className=\"back-btn\"\r\n                    onClick={() => history.goBack()}\r\n                >Back</div>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n                <img src={LoadingPng} className=\"img-container\" alt=\"Loading Icon\"></img>\r\n                <div className=\"large-header\">Please be patient. </div>\r\n                <div className=\"large-header\">The Snotlings are painting your pdf right now.</div>\r\n                <div className=\"large-header\">They are almost done.</div>\r\n                <div className=\"large-header\">Hang on...</div>\r\n            </React.Fragment>\r\n        }\r\n        <PdfRoster state={state} />\r\n        <PdfInfoPage state={state} />\r\n    </React.Fragment>;\r\n};\r\n","import * as yaml from \"js-yaml\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { GithubFilePicker } from \"../components/GithubFilePicker\";\r\nimport { ImportWarbandPng } from \"./../images\";\r\nexport const LandingPage = () => {\r\n    const history = useHistory();\r\n\r\n    return <div className=\"flex-container\" style={{ textAlign: \"center\" }}>\r\n        <label htmlFor=\"file-uploader\" className=\"flex-container\" style={{ display: \"unset\" }}>\r\n            <input\r\n                id=\"file-uploader\"\r\n                type=\"file\"\r\n                accept=\".yml\"\r\n                style={{ display: \"none\" }}\r\n                onChange={() => {\r\n\r\n                    const reader = new FileReader();\r\n                    reader.onload = (ev: ProgressEvent<FileReader>) => {\r\n                        try {\r\n                            const jsobject = yaml.load(ev.target?.result as string);\r\n                            history.push(\"/PdfExport\", jsobject);\r\n                        } catch (e) {\r\n                            throw (e);\r\n                        }\r\n                    };\r\n                    reader.readAsText((document.querySelector(\"#file-uploader\") as HTMLInputElement)?.files?.item(0) as File);\r\n\r\n                }}\r\n            />\r\n            <img style={{ width: \"25%\", maxWidth: \"1000px\" }} src={ImportWarbandPng} alt=\"Import Icon\"></img>\r\n            <div style={{ padding: \"0.7rem 0.5rem 0.7rem 0rem\", fontWeight: \"bold\", borderBottom: \"1px solid black\" }} onClick={() => document.getElementById(\"file-uploader\")?.click()}>Tap here to select a local .yml file</div>\r\n        </label>\r\n        <GithubFilePicker />\r\n    </div>;\r\n};\r\n"],"sourceRoot":""}